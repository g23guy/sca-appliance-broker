.TH SCADB 8 "20 Mar 2014" "sca-appliance-broker" "Supportconfig Analysis Manual"
.SH NAME
db - Supportconfig Analysis Database Tool
.SH SYNOPSIS
db [OPTIONS]
.SH DESCRIPTION
The \fBdb\fR command is used for database maintenance. It is run as the scdiag user, but can be run as root too.
.SH OPTIONS
.TP
\fBhelp\fR
Show this help screen.
.TP
\fBcheck\fR
Checks, optimizes and repairs tables
.TP
\fBempty\fR
Truncates Archives and Results, resets Agents and AgentWorkers
.TP
\fBbackup\fR
Creates a mysqldump file of the ServerDiagnostics database
.TP
\fBcmd\fR \fIquery\fR
Supports a custom query
.TP
\fBimport\fR \fIfile\fR
Imports the file a MySQL file
.TP
\fBold\fR \fIinteger\fR
Deletes old archives greater than \fIinteger\fR days old
.TP
\fBdel\fR \fIinteger\fR
Deletes archive with \fIinteger\fR ArchiveID
.TP
\fBreset agents\fR
Activates all agents and clears the agent threads
.TP
\fBreport \fIint\fR
Creates an HTML report file for Archive ID \fIint\fR.
.TP
\fBpending\fR [\fIinteger\fR]
Shows pending archives with optional \fIinteger\fR row limit
.TP
\fBactive\fR [\fIinteger\fR]
Shows active archives with optional \fIinteger\fR row limit
.TP
\fBdone\fR [\fIinteger\fR]
Shows completed archives with optional \fIinteger\fR row limit
.TP
\fBerror\fR [\fIinteger\fR]
Shows errored archives with optional \fIinteger\fR row limit
.TP
\fBarchive reset\fR \fIinteger\fR
Resets an archive to be analyzed again. The archive's results are deleted and the archive is set to a New state.
.TP
\fBarchive ignore\fR \fIinteger\fR
Sets the archive state to error with Archive ID \fIinteger\fR. The worker threads are cleaned up.
.TP
\fBarchive done\fR \fIinteger\fR
Sets the archive state to done with Archive ID \fIinteger\fR.
.TP
\fBworkers add\fR \fIinteger\fR \fBon\fR \fIagent_id\fR
Increases the number of agent threads by \fIinteger\fR amount on the agent with ID \fIagent_id\fR.
.TP
\fBworkers del\fR \fIinteger\fR \fBon\fR \fIagent_id\fR
Decreases the number of agent threads by \fIinteger\fR amount on the agent with ID \fIagent_id\fR.
.PD
.SH AUTHOR
Jason Record <jrecord@suse.com>
.SH COPYRIGHT
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 of the License.
.PP
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License
along with this program; if not, see <http://www.gnu.org/licenses/>.
.SH SEE ALSO
.BR sdbroker (8)

